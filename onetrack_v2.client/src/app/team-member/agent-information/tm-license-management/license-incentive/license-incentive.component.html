<div class="mb-5" style="margin-left: 0.5rem; margin-right: 0.5rem">
  <div class="row">
    <div
      class="col d-flex justify-content-start align-items-center"
      style="font-size: larger"
    >
      <strong style="margin-left: 0.5rem; margin-right: 1rem"
        >License Name:</strong
      >
      {{ licenseMgmtData[currentIndex].licenseName }}
      <button
        *ngIf="!modeEdit"
        class="icon-edit-delete-button ms-3 mb-5"
        (click)="onEditToggle()"
      >
        <span class="material-symbols-outlined"> edit </span>
      </button>
    </div>

    <div class="col d-flex justify-content-center mb-3 mt-1">
      <!-- <button
                          class="btn btn-link page-button mb-5"
                          *ngIf="isDisplayPrevious()"
                          (click)="previousPage()"
                        >
                          <span class="material-symbols-outlined"> arrow_back_ios </span></button
                        ><span class="page-info">{{ getPageInfo() }}</span>
                        <button
                          class="btn btn-link page-button mb-5"
                          *ngIf="isDisplayNext()"
                          (click)="nextPage()"
                        >
                          <span class="material-symbols-outlined"> arrow_forward_ios </span>
                        </button> -->
    </div>

    <div class="col d-flex justify-content-end align-items-end me-5">
      <div class="mb-3">
        {{ licenseIncentiveInfo.licenseIncentive }}
      </div>
      <button class="icon-edit-delete-button mb-5">
        <span class="material-symbols-outlined"> delete </span>
      </button>
    </div>
  </div>

  <!-- DISPLAY -->
  <div
    class="row bg-body p-1"
    style="
      border-radius: 1rem;
      padding: 1rem;
      box-shadow: 0 0 10px 0 rgba(230, 210, 210, 0.1);
    "
  >
    <div class="col">
      <!-- mode: DISPLAY -->
      <table class="table" *ngIf="!modeEdit">
        <thead>
          <tr style="background-color: #ffa500">
            <th scope="col">IncentiveID</th>
            <th scope="col">Rollout Group</th>
            <th scope="col">DM Mgr</th>
            <th scope="col">CCd BM Mgr</th>
            <th scope="col">Sent To DM</th>
            <th scope="col">Date DM Approved</th>
            <th scope="col">Date DM Declined</th>
            <th scope="col">DM Approval Status</th>
            <th scope="col">DM Followup By N/A</th>
            <th scope="col">DM Followup By N/A</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{ licenseIncentiveInfo.employmentLicenseIncentiveID }}</td>
            <td style="font-size: smaller">
              {{ licenseIncentiveInfo.rollOutGroup }}
            </td>
            <td style="font-size: smaller">
              {{ licenseIncentiveInfo.dmMgrName }}<br />{{
                licenseIncentiveInfo.dmMgrJobTitle
              }}
            </td>
            <td style="font-size: smaller">
              {{ licenseIncentiveInfo.cCdBRMgrName }}<br />{{
                licenseIncentiveInfo.cCdBRMgrJobTitle
              }}
            </td>
            <td>
              <div>&nbsp;<br />{{ licenseIncentiveInfo.dmSentBy }}</div>
            </td>
            <td style="font-size: smaller">
              {{ licenseIncentiveInfo.dmApprovalDate }}
            </td>
            <td style="font-size: smaller">
              {{ licenseIncentiveInfo.dmDeclinedDate }}
            </td>
            <td style="font-size: smaller">
              {{ licenseIncentiveInfo.dmApprovalStatus }}
            </td>
            <td>
              {{ licenseIncentiveInfo.dM10DaySentBy }}
            </td>
            <td>
              {{ licenseIncentiveInfo.dM20DaySentBy }}
            </td>
          </tr>
          <tr>
            <td></td>
            <td colspan="6">
              <div>
                <span style="font-weight: 600; color: grey"> DM Comment: </span>
                <div>{{ licenseIncentiveInfo.dmComment }}</div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row bg-body p-1">
    <div class="col">
      <!-- mode: DISPLAY -->
      <table class="table" *ngIf="!modeEdit">
        <thead>
          <tr style="background-color: #ffa500">
            <th scope="col">Program Eligible</th>
            <th scope="col">Sent To TM</th>
            <th scope="col">CCd BM Mgr</th>
            <th scope="col">Date TM Approved</th>
            <th scope="col">Date TM Declined</th>
            <th scope="col">TM Followup By N/A</th>
            <th scope="col">TM 45 Day FollowUp</th>
            <th scope="col">TM Approval Status</th>
            <th scope="col">Enroll Date</th>
            <th scope="col">Exception Start Date</th>
            <th scope="col">Incentive Expiration Date</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{ licenseIncentiveInfo.tmProgramEligable }}</td>
            <td>
              {{ licenseIncentiveInfo.tmSentDate }} <br />
              {{ licenseIncentiveInfo.tmSentBy }}
            </td>
            <td>
              {{ licenseIncentiveInfo.cCdBRMgrName }}<br />{{
                licenseIncentiveInfo.cCdBRMgrJobTitle
              }}
            </td>
            <td>{{ licenseIncentiveInfo.tmApprovalDate }}</td>
            <td>{{ licenseIncentiveInfo.tmDeclinedDate }}</td>
            <td>{{ licenseIncentiveInfo.tM10DaySentDate }}</td>
            <td>{{ licenseIncentiveInfo.tM45DaySentDate }}</td>
            <td>{{ licenseIncentiveInfo.tmApprovalStatus }}</td>
            <td>{{ licenseIncentiveInfo.enrollDate }}</td>
            <td>{{ licenseIncentiveInfo.tmExceptionDate }}</td>
            <td>{{ licenseIncentiveInfo.tM90DayExpirationDate }}</td>
          </tr>
          <tr>
            <td></td>
            <td colspan="4">
              <div>
                <span style="font-weight: 600; color: grey"> TM Comment: </span
                ><br />
                {{ licenseIncentiveInfo.tmComment }}
              </div>
            </td>
            <td></td>
            <td colspan="4">
              <div>
                <span style="font-weight: 600; color: grey"
                  >Exception Reason: </span
                ><br />
                {{ licenseIncentiveInfo.tmException }}
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row bg-body p-1">
    <div class="col">
      <!-- mode: DISPLAY -->
      <table class="table" *ngIf="!modeEdit">
        <thead>
          <tr style="background-color: #ffa500">
            <th scope="col">Completed In 90 Days</th>
            <th scope="col">Ok To Sell Sent To TM</th>
            <th scope="col">CC'd BM Mgr</th>
            <th scope="col">Original Issue Date</th>
            <th scope="col">Comp Cert Rec'd</th>
            <th scope="col">Non Credit Completed</th>
            <th scope="col">Appointment Effective Date</th>
            <th scope="col">OMS Appr To Send To HR</th>
            <th scope="col">Incentive Period</th>
            <th scope="col">Incentive Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{ licenseIncentiveInfo.completedIn90Days }}</td>
            <td>{{ licenseIncentiveInfo.tmOkToSellSentBy }}</td>
            <td></td>
            <td>{{ licenseIncentiveInfo.originalIssueDate }}</td>
            <td>{{ licenseIncentiveInfo.certificationDate }}</td>
            <td>{{ licenseIncentiveInfo.mod2Date }}</td>
            <td>{{ licenseIncentiveInfo.appointmentEffectiveDate }}</td>
            <td></td>
            <td>{{ licenseIncentiveInfo.incetivePeriodDate }}</td>
            <td>{{ licenseIncentiveInfo.incentiveStatus }}</td>
          </tr>
          <tr>
            <td></td>
            <td colspan="8">
              <div>
                <span style="font-weight: 600; color: grey">Notes: </span><br />
                {{ licenseIncentiveInfo.notes }}
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- EDIT - MODE -->
  <form
    [formGroup]="incentiveUpdateForm"
    (ngSubmit)="onSubmit()"
    *ngIf="modeEdit"
  >
    <div>
      <div class="row bg-body">
        <div class="col d-flex justify-content-end">
          <button
            [ngClass]="{ 'btn-dodger-blue': isPageDirty }"
            class="icon-edit-delete-button me-5 mb-5 btn-grey"
            *ngIf="modeEdit"
            [disabled]="!isPageDirty"
          >
            <span class="material-symbols-outlined"> save </span>
          </button>
          <button
            class="icon-edit-delete-button mb-3 me-5"
            *ngIf="modeEdit"
            (click)="onEditToggle()"
          >
            <span class="material-symbols-outlined"> cancel </span>
          </button>
        </div>
      </div>

      <div class="row bg-body">
        <div class="col">
          <!-- mode: EDIT (DM) -->
          <table class="table">
            <thead>
              <tr style="background-color: #ffa500">
                <th scope="col">Rollout Group</th>
                <th scope="col">DM Mgr</th>
                <th scope="col">CCd BM Mgr</th>
                <th scope="col">Sent To DM</th>
                <th scope="col">Date DM Approved</th>
                <th scope="col">Date DM Declined</th>
                <th scope="col">DM Followup By N/A</th>
                <th scope="col" class="text-center">DM Followup By N/A</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <select
                    class="form-select select-size-x-small"
                    type="text"
                    id="RollOutGroup"
                    formControlName="RollOutGroup"
                    (change)="setDirty()"
                  >
                    <option
                      *ngFor="let group of rolloutGroups"
                      [value]="group.value"
                    >
                      {{ group.label }}
                    </option>
                  </select>
                </td>
                <td>
                  <select
                    class="form-select select-size-small"
                    type="text"
                    id="DMEmploymentID"
                    formControlName="DMEmploymentID"
                    (change)="setDirty()"
                  >
                    <option *ngFor="let mgr of dmManagers" [value]="mgr.value">
                      {{ mgr.label }}
                    </option>
                  </select>
                </td>
                <td>
                  <select
                    class="form-select select-size-small"
                    type="text"
                    id="CCdBMEmploymentID"
                    formControlName="CCdBMEmploymentID"
                    (change)="setDirty()"
                  >
                    <option *ngFor="let mgr of bmManagers" [value]="mgr.value">
                      {{ mgr.label }}
                    </option>
                  </select>
                </td>
                <td>
                  <input
                    type="date"
                    id="DMSentDate"
                    class="form-control input-size-small"
                    formControlName="DMSentDate"
                    (change)="setDirty()"
                  />
                </td>
                <td>
                  <input
                    type="date"
                    id="DMApprovalDate"
                    class="form-control input-size-small"
                    formControlName="DMApprovalDate"
                    (change)="setDirty()"
                  />
                </td>
                <td>
                  <input
                    type="date"
                    id="DMDeclinedDate"
                    class="form-control input-size-small"
                    formControlName="DMDeclinedDate"
                    (change)="setDirty()"
                  />
                </td>
                <td>
                  <input
                    type="date"
                    id="DM10DaySentDate"
                    class="form-control input-size-small"
                    formControlName="DM10DaySentDate"
                    (change)="setDirty()"
                  />
                </td>
                <td>
                  <input
                    type="date"
                    id="DM20DaySentDate"
                    class="form-control input-size-small"
                    formControlName="DM20DaySentDate"
                    (change)="setDirty()"
                  />
                </td>
              </tr>
              <tr>
                <td></td>
                <td colspan="2">
                  <span style="font-weight: 500">DM Comment</span
                  ><br /><textarea
                    class="form-control"
                    style="width: 80%"
                    formControlName="DMComment"
                    (change)="setDirty()"
                  ></textarea>
                </td>
                <td>
                  <select
                    class="form-select select-size-small"
                    type="text"
                    id="DMSentBySOEID"
                    formControlName="DMSentBySOEID"
                    (change)="setDirty()"
                  >
                    <option
                      *ngFor="let techs of licenseTeches"
                      [value]="techs.value"
                    >
                      {{ techs.label }}
                    </option>
                  </select>
                </td>
                <td></td>
                <td></td>
                <td>
                  <select
                    class="form-select select-size-small"
                    type="text"
                    id="DM10DaySentBySOEID"
                    formControlName="DM10DaySentBySOEID"
                    (change)="setDirty()"
                  >
                    <option
                      *ngFor="let techs of licenseTeches"
                      [value]="techs.value"
                    >
                      {{ techs.label }}
                    </option>
                  </select>
                </td>
                <td>
                  <select
                    class="form-select select-size-small"
                    type="text"
                    id="DM20DaySentBySOEID"
                    formControlName="DM20DaySentBySOEID"
                    (change)="setDirty()"
                  >
                    <option
                      *ngFor="let techs of licenseTeches"
                      [value]="techs.value"
                    >
                      {{ techs.label }}
                    </option>
                  </select>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="row bg-body">
        <div class="col">
          <!-- mode: EDIT (TM) -->
          <table class="table">
            <thead>
              <tr style="background-color: #ffa500">
                <th scope="col">Sent To TM</th>
                <th scope="col">CCd BM Mgr</th>
                <th scope="col">Date TM Approved</th>
                <th scope="col">Date TM Declined</th>
                <th scope="col">TM Followup By N/A</th>
                <th scope="col">TM 45 Day FollowUp</th>
                <th scope="col">Exception Start Date</th>
                <th scope="col"></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <input
                    type="date"
                    id="TMSentDate"
                    class="form-control input-size-small"
                    formControlName="TMSentDate"
                    (change)="setDirty()"
                  />
                </td>
                <td>
                  <select
                    class="form-select select-size-small"
                    type="text"
                    id="CCd2BMEmploymentID"
                    formControlName="CCd2BMEmploymentID"
                    (change)="setDirty()"
                  >
                    <option *ngFor="let mgr of bmManagers" [value]="mgr.value">
                      {{ mgr.label }}
                    </option>
                  </select>
                </td>
                <td>
                  <input
                    type="date"
                    id="TMApprovalDate"
                    class="form-control input-size-small"
                    formControlName="TMApprovalDate"
                    (change)="setDirty()"
                  />
                </td>
                <td>
                  <input
                    type="date"
                    id="TMDeclinedDate"
                    class="form-control input-size-small"
                    formControlName="TMDeclinedDate"
                    (change)="setDirty()"
                  />
                </td>
                <td>
                  <input
                    type="date"
                    id="TM10DaySentDate"
                    class="form-control input-size-small"
                    formControlName="TM10DaySentDate"
                    (change)="setDirty()"
                  />
                </td>
                <td>
                  <input
                    type="date"
                    id="TM45DaySentDate"
                    class="form-control input-size-small"
                    formControlName="TM45DaySentDate"
                    (change)="setDirty()"
                  />
                </td>
                <td>
                  <input
                    type="date"
                    id="TMExceptionDate"
                    class="form-control input-size-small"
                    formControlName="TMExceptionDate"
                    (change)="setDirty()"
                  />
                </td>
              </tr>
              <tr>
                <td>
                  <select
                    class="form-select select-size-small"
                    type="text"
                    id="TMSentBySOEID"
                    formControlName="TMSentBySOEID"
                    (change)="setDirty()"
                  >
                    <option
                      *ngFor="let techs of licenseTeches"
                      [value]="techs.value"
                    >
                      {{ techs.label }}
                    </option>
                  </select>
                </td>
                <td colspan="2">
                  <span style="font-weight: 500">TM Comment</span
                  ><br /><textarea
                    class="form-control"
                    style="width: 80%"
                    formControlName="TMComment"
                    (change)="setDirty()"
                  ></textarea>
                </td>
                <td></td>
                <td></td>
                <td></td>
                <td colspan="2">
                  <span style="font-weight: 500">Exception Reason</span
                  ><br /><textarea
                    class="form-control"
                    style="width: 98%"
                    formControlName="TMException"
                    (change)="setDirty()"
                  ></textarea>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="row bg-body">
        <div class="col">
          <!-- mode: EDIT -->
          <table class="table">
            <thead>
              <tr style="background-color: #ffa500">
                <th scope="col">Ok To Sell Sent To TM</th>
                <th scope="col">CC'd BM Mgr</th>
                <th scope="col">OMS Appr To Send To HR</th>
                <th scope="col">&nbsp;</th>
                <th scope="col">Incentive Period</th>
                <th scope="col">Incentive Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <input
                    type="date"
                    id="TMOkToSellSentDate"
                    class="form-control input-size-small"
                    formControlName="TMOkToSellSentDate"
                  />
                </td>
                <td>
                  <select
                    class="form-select select-size-small"
                    type="text"
                    id="CCOkToSellBMEmploymentID"
                    formControlName="CCOkToSellBMEmploymentID"
                    (change)="setDirty()"
                  >
                    <option *ngFor="let mgr of bmManagers" [value]="mgr.value">
                      {{ mgr.label }}
                    </option>
                  </select>
                </td>
                <td>
                  <input
                    type="date"
                    id="TMOMSApprtoSendToHRDate"
                    class="form-control input-size-small"
                    formControlName="TMOMSApprtoSendToHRDate"
                    (change)="setDirty()"
                  />
                </td>
                <td>&nbsp;</td>
                <td>
                  <input
                    type="date"
                    id="IncetivePeriodDate"
                    class="form-control input-size-small"
                    formControlName="IncetivePeriodDate"
                    (change)="setDirty()"
                  />
                </td>
                <td>
                  <select
                    class="form-select select-size-small"
                    type="text"
                    id="IncentiveStatus"
                    formControlName="IncentiveStatus"
                    (change)="setDirty()"
                  >
                    <option
                      *ngFor="let status of incentiveStatuses"
                      [value]="status"
                    >
                      {{ status }}
                    </option>
                  </select>
                </td>
              </tr>
              <tr>
                <td>
                  <select
                    class="form-select select-size-small"
                    type="text"
                    id="TMOkToSellSentBySOEID"
                    formControlName="TMOkToSellSentBySOEID"
                    (change)="setDirty()"
                  >
                    <option
                      *ngFor="let techs of licenseTeches"
                      [value]="techs.value"
                    >
                      {{ techs.label }}
                    </option>
                  </select>
                </td>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td colspan="2">
                  <span style="font-weight: 500">Notes</span><br /><textarea
                    class="form-control"
                    style="width: 75%"
                    formControlName="Notes"
                    (change)="setDirty()"
                  ></textarea>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </form>
</div>
