<div class="container app-container" style="overflow-x: hidden">
  <div class="row mt-3">
    <div class="col-md-12">
      <form (ngSubmit)="onSubmit(f)" #f="ngForm">
        <div
          id="search-filter"
          ngModelGroup="searchFilter"
          #searchFilter="ngModelGroup"
        >
          <div class="row">
            <div class="col">
              <div class="form-group">
                <label for="search">Social Security #:</label>
                <input
                  type="text"
                  class="form-control input-size-small"
                  id="EmployeeSSN"
                  ngModel
                  name="EmployeeSSN"
                  placeholder="####"
                />
                <br />
                <label for="search">Team Member ID:</label>
                <input
                  type="text"
                  class="form-control input-size-small"
                  id="TeamMemberGEID"
                  ngModel
                  name="TeamMemberGEID"
                />
                <br />
                <label for="search">National Producer #:</label>
                <input
                  type="text"
                  class="form-control input-size-small"
                  id="NationalProducerNumber"
                  ngModel
                  name="NationalProducerNumber"
                />
                <br />
                <label for="search">Last Name:</label>
                <input
                  type="text"
                  class="form-control input-size-medium"
                  id="LastName"
                  ngModel
                  name="LastName"
                />
                <br />
                <label for="search">First Name:</label>
                <input
                  type="text"
                  class="form-control input-size-medium"
                  id="FirstName"
                  ngModel
                  name="FirstName"
                />

                <mat-divider class="mt-4 mb-3"></mat-divider>

                <mat-form-field>
                  <mat-label>Resident State</mat-label>
                  <mat-select ngModel name="ResState">
                    <mat-option>None</mat-option>
                    <mat-option
                      *ngFor="let state of stateProvinces"
                      [value]="state"
                      >{{ state }}</mat-option
                    >
                  </mat-select>
                </mat-form-field>
                <br />
                <mat-form-field>
                  <mat-label>Work State</mat-label>
                  <mat-select
                    ngModel
                    name="WrkState"
                    placeholder="Select Work State"
                  >
                    <mat-option>None</mat-option>
                    <mat-option
                      *ngFor="let state of stateProvinces"
                      [value]="state"
                      >{{ state }}</mat-option
                    >
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="col">
              <mat-form-field>
                <mat-label>Employer/Agency</mat-label>
                <mat-select
                  ngModel
                  name="EmployerAgency"
                  placeholder="Select Emp-Agency"
                >
                  <mat-option>None</mat-option>
                  <mat-option
                    *ngFor="let employerAgency of employerAgencies"
                    [value]="employerAgency.value"
                    >{{ employerAgency.label }}</mat-option
                  >
                </mat-select>
              </mat-form-field>
              <br />
              <mat-form-field>
                <mat-label>Agent Status</mat-label>
                <mat-select
                  [(value)]="defaultAgentStatus"
                  [(ngModel)]="selectedAgentStatuses"
                  name="AgentStatus"
                  multiple
                  (selectionChange)="onAgentStatusSelectionChange($event)"
                  placeholder="Select Agent Status"
                >
                  <mat-option
                    *ngFor="let value of agentStatuses"
                    [value]="value"
                    [disabled]="
                      selectedAgentStatuses.includes('ALL') && value !== 'ALL'
                    "
                    >{{ value }}</mat-option
                  >
                </mat-select>
              </mat-form-field>

              <mat-divider class="mt-2 mb-3"></mat-divider>

              <mat-form-field>
                <mat-label>Score Number</mat-label>
                <mat-select
                  ngModel
                  name="ScoreNumber"
                  placeholder="Select Score Num"
                >
                  <mat-option>None</mat-option>
                  <mat-option
                    *ngFor="let scoreNumber of scoreNumbers"
                    [value]="scoreNumber.value"
                    >{{ scoreNumber.label }}</mat-option
                  >
                </mat-select>
              </mat-form-field>
              <br />
              <mat-form-field>
                <mat-label>Branch Name</mat-label>
                <mat-select
                  ngModel
                  name="BranchCode"
                  placeholder="Select Branch Name"
                >
                  <mat-option>None</mat-option>
                  <mat-option
                    *ngFor="let branchName of branchNames"
                    [value]="branchName.value"
                    >{{ branchName.label }}</mat-option
                  >
                </mat-select>
              </mat-form-field>

              <mat-divider class="mt-2 mb-3"></mat-divider>

              <mat-form-field>
                <mat-label>License Status</mat-label>
                <mat-select
                  [(value)]="defaultLicenseStatus"
                  [(ngModel)]="selectedLicenseStatuses"
                  name="LicStatus"
                  multiple
                  (selectionChange)="onLicenseStatusSelectionChange($event)"
                  placeholder="Select License Status"
                >
                  <!-- <mat-option>None</mat-option> -->
                  <mat-option
                    *ngFor="let licenseStatus of licenseStatuses"
                    [value]="licenseStatus.value"
                    [disabled]="
                      selectedLicenseStatuses.includes('All') &&
                      licenseStatus.value !== 'All'
                    "
                    >{{ licenseStatus.label }}</mat-option
                  >
                </mat-select>
              </mat-form-field>
              <br />
              <mat-form-field>
                <mat-label>License State</mat-label>
                <mat-select
                  ngModel
                  name="LicState"
                  placeholder="Select License State"
                >
                  <mat-option>None</mat-option>
                  <mat-option *ngFor="let state of states" [value]="state">{{
                    state
                  }}</mat-option>
                </mat-select>
              </mat-form-field>
              <br />
              <mat-form-field>
                <mat-label>License Name</mat-label>
                <mat-select
                  ngModel
                  name="LicenseName"
                  placeholder="Select License Name"
                >
                  <mat-option>None</mat-option>
                  <mat-option
                    *ngFor="let licenseName of licenseNames"
                    [value]="licenseName.value"
                    >{{ licenseName.label }}</mat-option
                  >
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-md-5" *ngIf="isShowTickle">
              <app-tickler-mgmt></app-tickler-mgmt>
            </div>
          </div>
        </div>

        <!-- <mat-divider class="mt-1 mb-1"></mat-divider> -->

        <div class="row">
          <div class="col">
            <button type="submit" class="btn btn-primary">Search</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <mat-divider *ngIf="isSubmitted"></mat-divider>

  <div class="row mt-3 mb-3" style="font-size: larger" *ngIf="isSubmitted">
    <div class="col d-flex justify-content-center">
      <span class="me-2" style="font-weight: 700">{{
        searchEmployeeResult.length | number
      }}</span>
      - record(s) found
    </div>
  </div>

  <div class="row" *ngIf="isSubmitted">
    <div class="col-md-12">
      <app-search-list></app-search-list>
    </div>
    <div>
      <app-pagination
        [currentPage]="paginationComService.currentPage"
        [totalItems]="paginationComService.displayItems.length"
        [itemsPerPage]="paginationComService.itemsPerPage"
        (pageChange)="
          paginationComService.currentPage = $event;
          paginationComService.updatePaginatedResults()
        "
      >
      </app-pagination>
    </div>
  </div>
</div>
