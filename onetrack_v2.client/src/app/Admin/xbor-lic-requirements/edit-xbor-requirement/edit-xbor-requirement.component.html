<form
  [formGroup]="xborLicenseRequirementForm"
  (ngSubmit)="onSubmit()"
  class="container app-modal-container"
>
  <div class="row" *ngIf="adminComService.modes.xborLicenseRequirement.mode === 'INSERT'">
    <div class="col">
      <div class="mb-3">
        <label for="workStateAbv" class="form-label">Branch:</label>
        <select
          class="form-select select-size-small"
          type="text"
          id="workStateAbv"
          formControlName="workStateAbv"
        >
          <option *ngFor="let branch of branches" [value]="branch.value">
            {{ branch.value }} - {{ branch.label != 'Select' ? branch.label : '' }}
          </option>
        </select>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="mb-3">
        <label for="workStateAbv" class="form-label">Work State:</label>
        <select
          class="form-select select-size-small"
          type="text"
          id="workStateAbv"
          formControlName="workStateAbv"
        >
          <option *ngFor="let state of stateProvinces" [value]="state">
            {{ state }}
          </option>
        </select>
      </div>
    </div>

    <div class="col">
      <div class="mb-3">
        <label for="resStateAbv" class="form-label">Resident State:</label>
        <select
          class="form-select select-size-small"
          type="text"
          id="resStateAbv"
          formControlName="resStateAbv"
        >
          <option *ngFor="let state of stateProvinces" [value]="state">
            {{ state }}
          </option>
        </select>
      </div>
    </div>

    <div class="col">
      <div class="mb-3">
        <label for="licState" class="form-label">License State:</label>
        <select
          class="form-select select-size-small"
          type="text"
          id="licState"
          formControlName="licState"
          (change)="onChangeLicenseState($event)"
        >
          <option *ngFor="let state of stateProvinces" [value]="state">
            {{ state }}
          </option>
        </select>
      </div>
    </div>

    <div class="col">
      <div class="mb-3">
        <label for="licenseId" class="form-label">License Name:</label>
        <select
          class="form-select select-size-medium"
          type="text"
          id="licenseId"
          formControlName="licenseId"
        >
          <option
            *ngFor="let license of stateLicenseItems"
            [value]="license.value"
          >
            {{ license.label }}
          </option>
        </select>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div class="mb-3 mt-4">
        <input
          class="form-check-input me-2 align-middle"
          type="checkbox"
          id="licLevel1"
          formControlName="licLevel1"
        />
        <label for="licLevel1" class="form-label"> Lic Level 1 </label>
      </div>
      <div class="mb-3 mt-4">
        <input
          class="form-check-input me-2 align-middle"
          type="checkbox"
          id="plS_Incentive1"
          formControlName="plS_Incentive1"
        />
        <label for="plS_Incentive1" class="form-label"> Lic Incentive 1 </label>
      </div>
    </div>
    <div class="col">
      <div class="mb-3 mt-4">
        <input
          class="form-check-input me-2 align-middle"
          type="checkbox"
          id="licLevel2"
          formControlName="licLevel2"
        />
        <label for="licLevel2" class="form-label"> Lic Level 2 </label>
      </div>
      <div class="mb-3 mt-4">
        <input
          class="form-check-input me-2 align-middle"
          type="checkbox"
          id="incentive2_Plus"
          formControlName="incentive2_Plus"
        />
        <label for="incentive2_Plus" class="form-label">
          Lic Incentive 2
        </label>
      </div>
    </div>
    <div class="col">
      <div class="mb-3 mt-4">
        <input
          class="form-check-input me-2 align-middle"
          type="checkbox"
          id="licLevel3"
          formControlName="licLevel3"
        />
        <label for="licLevel3" class="form-label"> Lic Level 3 </label>
      </div>
      <div class="mb-3 mt-4">
        <input
          class="form-check-input me-2 align-middle"
          type="checkbox"
          id="licIncentive3"
          formControlName="licIncentive3"
        />
        <label for="licIncentive3" class="form-label"> Lic Incentive 3 </label>
      </div>
    </div>
    <div class="col">
      <div class="mb-3 mt-4">
        <input
          class="form-check-input me-2 align-middle"
          type="checkbox"
          id="licLevel4"
          formControlName="licLevel4"
        />
        <label for="licLevel4" class="form-label"> Lic Level 4 </label>
      </div>
    </div>
  </div>

  <div class="row mt-3" *ngIf="isStartDocUploaded">
    <div
      class="col-md-12 d-flex align-items-center"
      style="
        background-color: aliceblue;
        border-color: lightgray;
        border-width: 1px;
        border-style: solid;
        border-radius: 0.5rem;
      "
    >
      <!-- Use Flexbox here -->
      <button
        class="icon-edit-delete-button"
        type="button"
        style="padding-bottom: 3rem"
        (click)="onDeleteStartDocument()"
      >
        <span class="material-symbols-outlined me-3">delete_forever</span>
      </button>
      <a
        [href]="xborLicenseRequirementForm.get('startDocument')?.value"
        target="_blank"
        class="ms-5 mt-3 mb-3"
        style="font-size: medium"
        >{{ xborLicenseRequirementForm.get("startDocument")?.value }}</a
      >
    </div>
  </div>

  <div class="row mt-1 mb-3">
    <div class="col-md-12">
      <label for="startDoc" class="form-label"> Start Document: </label>
      <app-file-upload
        [uploadType]="uploadStartNewType"
        [filePathUri]="fileUri"
        [displayMode]="FileDisplayMode"
        (fileSelected)="onFileSelected($event)"
        [isDisabled]="isStartDocUploaded"
        (fullFilePathUri)="startFileUploadCompleted($event)"
        #fileUpload
      ></app-file-upload>
    </div>
  </div>

  <div class="row mt-5" *ngIf="isRenewalDocUploaded">
    <div
      class="col-md-12 d-flex align-items-center"
      style="
        background-color: aliceblue;
        border-color: lightgray;
        border-width: 1px;
        border-style: solid;
        border-radius: 0.5rem;
      "
    >
      <!-- Use Flexbox here -->
      <button
        class="icon-edit-delete-button"
        type="button"
        style="padding-bottom: 3rem"
        (click)="onDeleteRenewalDocument()"
      >
        <span class="material-symbols-outlined me-3">delete_forever</span>
      </button>
      <a
        [href]="xborLicenseRequirementForm.get('renewalDocument')?.value"
        target="_blank"
        class="ms-5 mt-3 mb-3"
        style="font-size: medium"
        >{{ xborLicenseRequirementForm.get("renewalDocument")?.value }}</a
      >
    </div>
  </div>

  <div class="row mt-1 mb-3">
    <div class="col-md-12">
      <label for="renewalDoc" class="form-label"> Renewal Document: </label>
      <app-file-upload
        [uploadType]="uploadRenewalType"
        [filePathUri]="fileUri"
        [displayMode]="FileDisplayMode"
        (fileSelected)="onFileSelected($event)"
        [isDisabled]="isRenewalDocUploaded"
        (fullFilePathUri)="renewalFileUploadCompleted($event)"
        #fileUpload
      ></app-file-upload>
    </div>
  </div>

  <mat-divider></mat-divider>

  <div class="row mt-4">
    <div class="col d-flex justify-content-end">
      <button
        type="button"
        class="btn btn-secondary me-3 cancel-button button-font-size"
        (click)="closeModal()"
      >
        Cancel
      </button>
      <button
        type="submit"
        class="btn btn-primary save-button button-font-size"
        [disabled]="xborLicenseRequirementForm.pristine"
      >
        Save
      </button>
    </div>
  </div>
</form>
